Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 12
Server version: 8.0.31 MySQL Community Server - GPL

Copyright (c) 2000, 2022, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> use triparna;
Database changed
mysql> CREATE TABLE PHYSICIAN(EMPLOYEEID INT PRIMARY KEY, NAME TEXT, POSITION TEXT, SSN INT);
Query OK, 0 rows affected (0.03 sec)

mysql>
mysql> CREATE TABLE PROCEDURES(CODE INT PRIMARY KEY, NAME TEXT, COST INT);
Query OK, 0 rows affected (0.01 sec)

mysql> CREATE TABLE MEDICATION(CODE INT PRIMARY KEY, NAME TEXT, BRAND TEXT, DESCRIPTION TEXT);
Query OK, 0 rows affected (0.02 sec)

mysql>
mysql> CREATE TABLE BLOCK(FLOOR INT, CODE INT, PRIMARY KEY(FLOOR, CODE));
Query OK, 0 rows affected (0.01 sec)

mysql>
mysql> CREATE TABLE NURSE(EMPLOYEEID INT PRIMARY KEY, NAME TEXT, POSITION TEXT, REGISTERED BOOLEAN, SSN INT);
Query OK, 0 rows affected (0.01 sec)

mysql>
mysql> CREATE TABLE DEPARTMENT(DEPARTMENTID INT PRIMARY KEY, NAME TEXT, HEAD INT, FOREIGN KEY(HEAD) REFERENCES PHYSICIAN(EMPLOYEEID));
Query OK, 0 rows affected (0.01 sec)

mysql>
mysql> CREATE TABLE AFFILIATED_WITH(PHYSICIAN INT, DEPARTMENT INT, PRIMARYAFFILIATION BOOLEAN, PRIMARY KEY(PHYSICIAN, DEPARTMENT),
    -> FOREIGN KEY(PHYSICIAN) REFERENCES PHYSICIAN(EMPLOYEEID), FOREIGN KEY(DEPARTMENT) REFERENCES DEPARTMENT(DEPARTMENTID));
Query OK, 0 rows affected (0.01 sec)

mysql>
mysql> CREATE TABLE TRAINED_IN(PHYSICIAN INT, TREATMENT INT, CERTIFICATIONDATE DATETIME, CERTIFICATIONEXPIRES DATETIME, PRIMARY KEY(PHYSICIAN, TREATMENT),
    -> FOREIGN KEY(PHYSICIAN) REFERENCES PHYSICIAN(EMPLOYEEID), FOREIGN KEY(TREATMENT) REFERENCES PROCEDURES(CODE));
Query OK, 0 rows affected (0.01 sec)

mysql>
mysql> CREATE TABLE PATIENT(SSN INT PRIMARY KEY, NAME TEXT, ADDRESS TEXT, PHONE TEXT, INSURANCEID INT, PCP INT, FOREIGN KEY(PCP) REFERENCES PHYSICIAN(EMPLOYEEID));
Query OK, 0 rows affected (0.01 sec)

mysql>
mysql> CREATE TABLE PRESCRIBES(PHYSICIAN INT, PATIENT INT, MEDICATION INT, DATE DATETIME, APPOINTMENT INT, DOSE TEXT, PRIMARY KEY(PHYSICIAN, PATIENT, MEDICATION,  DATE),
    -> FOREIGN KEY(PHYSICIAN) REFERENCES PHYSICIAN(EMPLOYEEID), FOREIGN KEY(PATIENT) REFERENCES PATIENT(SSN), FOREIGN KEY(MEDICATION) REFERENCES MEDICATION(CODE),
    -> FOREIGN KEY(APPOINTMENT) REFERENCES APPOINTMENT(APPOINTMENTID));
Query OK, 0 rows affected (0.01 sec)

mysql>
mysql> CREATE TABLE APPOINTMENT(APPOINTMENTID INT PRIMARY KEY, PATIENT INT, PREPNURSE INTEGER, PHYSICIAN INT, START DATETIME, END DATETIME,
    -> EXAMINATIONROOM TEXT, FOREIGN KEY(PATIENT) REFERENCES PATIENT(SSN), FOREIGN KEY(PREPNURSE) REFERENCES NURSE(EMPLOYEEID),
    -> FOREIGN KEY(PHYSICIAN) REFERENCES PHYSICIAN(EMPLOYEEID));
Query OK, 0 rows affected (0.01 sec)

mysql>
mysql> CREATE TABLE ROOM(NUMBER INT PRIMARY KEY, TYPE TEXT, BLOCKFLOOR INT, BLOCKCODE INT, UNAVAILABLE BOOLEAN, FOREIGN KEY(BLOCKFLOOR) REFERENCES BLOCK(FLOOR),
    -> FOREIGN KEY(BLOCKCODE) REFERENCES BLOCK(CODE));
Query OK, 0 rows affected (0.01 sec)

mysql>
mysql> CREATE TABLE ON_CALL(NURSE INT, BLOCKFLOOR INT, BLOCKCODE INT, START DATETIME, END DATETIME, PRIMARY KEY(NURSE, BLOCKFLOOR, BLOCKCODE),
    -> FOREIGN KEY(BLOCKFLOOR) REFERENCES BLOCK(FLOOR), FOREIGN KEY(BLOCKCODE) REFERENCES BLOCK(CODE), FOREIGN KEY(NURSE) REFERENCES NURSE(EMPLOYEEID));
Query OK, 0 rows affected (0.01 sec)

mysql>
mysql> CREATE TABLE STAY(STAYID INT PRIMARY KEY, PATIENT INT, ROOM INT, START DATETIME, END DATETIME, FOREIGN KEY(PATIENT) REFERENCES PATIENT(SSN), FOREIGN KEY(ROOM) REFERENCES ROOM(NUMBER));
Query OK, 0 rows affected (0.01 sec)

mysql>
mysql> CREATE TABLE UNDERGOES(PATIENT INT, PROCEDURES INT, STAY INT, DATE DATETIME, PHYSICIAN INT, ASSISTINGNURSE INT, PRIMARY KEY(PATIENT, PROCEDURES, STAY, DATE),
    -> FOREIGN KEY(PATIENT) REFERENCES PATIENT(SSN), FOREIGN KEY(PROCEDURES) REFERENCES PROCEDURES(CODE), FOREIGN KEY(STAY) REFERENCES STAY(STAYID),
    -> FOREIGN KEY(PHYSICIAN) REFERENCES PHYSICIAN(EMPLOYEEID), FOREIGN KEY(ASSISTINGNURSE) REFERENCES NURSE(EMPLOYEEID));
Query OK, 0 rows affected (0.01 sec)

mysql>
mysql> INSERT INTO Physician VALUES(1,'John Dorian','Staff Internist',111111111);
Query OK, 1 row affected (0.01 sec)

mysql> INSERT INTO Physician VALUES(2,'Elliot Reid','Attending Physician',222222222);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Physician VALUES(3,'Christopher Turk','Surgical Attending Physician',333333333);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Physician VALUES(4,'Percival Cox','Senior Attending Physician',444444444);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Physician VALUES(5,'Bob Kelso','Head Chief of Medicine',555555555);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Physician VALUES(6,'Todd Quinlan','Surgical Attending Physician',666666666);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Physician VALUES(7,'John Wen','Surgical Attending Physician',777777777);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Physician VALUES(8,'Keith Dudemeister','MD Resident',888888888);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Physician VALUES(9,'Molly Clock','Attending Psychiatrist',999999999);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Department VALUES(1,'General Medicine',4);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Department VALUES(2,'Surgery',7);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Department VALUES(3,'Psychiatry',9);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Affiliated_With VALUES(1,1,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Affiliated_With VALUES(2,1,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Affiliated_With VALUES(3,1,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Affiliated_With VALUES(3,2,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Affiliated_With VALUES(4,1,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Affiliated_With VALUES(5,1,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Affiliated_With VALUES(6,2,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Affiliated_With VALUES(7,1,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Affiliated_With VALUES(7,2,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Affiliated_With VALUES(8,1,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Affiliated_With VALUES(9,3,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Procedures VALUES(1,'Reverse Rhinopodoplasty',1500.0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Procedures VALUES(2,'Obtuse Pyloric Recombobulation',3750.0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Procedures VALUES(3,'Folded Demiophtalmectomy',4500.0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Procedures VALUES(4,'Complete Walletectomy',10000.0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Procedures VALUES(5,'Obfuscated Dermogastrotomy',4899.0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Procedures VALUES(6,'Reversible Pancreomyoplasty',5600.0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Procedures VALUES(7,'Follicular Demiectomy',25.0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Patient VALUES(100000001,'John Smith','42 Foobar Lane','555-0256',68476213,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Patient VALUES(100000002,'Grace Ritchie','37 Snafu Drive','555-0512',36546321,2);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Patient VALUES(100000003,'Random J. Patient','101 Omgbbq Street','555-1204',65465421,2);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Patient VALUES(100000004,'Dennis Doe','1100 Foobaz Avenue','555-2048',68421879,3);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Nurse VALUES(101,'Carla Espinosa','Head Nurse',1,111111110);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Nurse VALUES(102,'Laverne Roberts','Nurse',1,222222220);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Nurse VALUES(103,'Paul Flowers','Nurse',0,333333330);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Appointment VALUES(13216584,100000001,101,1,'2008-04-24 10:00','2008-04-24 11:00','A');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Appointment VALUES(26548913,100000002,101,2,'2008-04-24 10:00','2008-04-24 11:00','B');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Appointment VALUES(36549879,100000001,102,1,'2008-04-25 10:00','2008-04-25 11:00','A');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Appointment VALUES(46846589,100000004,103,4,'2008-04-25 10:00','2008-04-25 11:00','B');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Appointment VALUES(59871321,100000004,NULL,4,'2008-04-26 10:00','2008-04-26 11:00','C');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Appointment VALUES(69879231,100000003,103,2,'2008-04-26 11:00','2008-04-26 12:00','C');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Appointment VALUES(76983231,100000001,NULL,3,'2008-04-26 12:00','2008-04-26 13:00','C');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Appointment VALUES(86213939,100000004,102,9,'2008-04-27 10:00','2008-04-21 11:00','A');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Appointment VALUES(93216548,100000002,101,2,'2008-04-27 10:00','2008-04-27 11:00','B');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Medication VALUES(1,'Procrastin-X','X','N/A');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Medication VALUES(2,'Thesisin','Foo Labs','N/A');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Medication VALUES(3,'Awakin','Bar Laboratories','N/A');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Medication VALUES(4,'Crescavitin','Baz Industries','N/A');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Medication VALUES(5,'Melioraurin','Snafu Pharmaceuticals','N/A');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Prescribes VALUES(1,100000001,1,'2008-04-24 10:47',13216584,'5');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Prescribes VALUES(9,100000004,2,'2008-04-27 10:53',86213939,'10');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Prescribes VALUES(9,100000004,2,'2008-04-30 16:53',NULL,'5');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Block VALUES(1,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Block VALUES(1,2);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Block VALUES(1,3);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Block VALUES(2,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Block VALUES(2,2);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Block VALUES(2,3);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Block VALUES(3,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Block VALUES(3,2);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Block VALUES(3,3);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Block VALUES(4,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Block VALUES(4,2);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Block VALUES(4,3);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(101,'Single',1,1,0);
Query OK, 1 row affected (0.01 sec)

mysql> INSERT INTO Room VALUES(102,'Single',1,1,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(103,'Single',1,1,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(111,'Single',1,2,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(112,'Single',1,2,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(113,'Single',1,2,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(121,'Single',1,3,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(122,'Single',1,3,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(123,'Single',1,3,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(201,'Single',2,1,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(202,'Single',2,1,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(203,'Single',2,1,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(211,'Single',2,2,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(212,'Single',2,2,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(213,'Single',2,2,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(221,'Single',2,3,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(222,'Single',2,3,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(223,'Single',2,3,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(301,'Single',3,1,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(302,'Single',3,1,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(303,'Single',3,1,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(311,'Single',3,2,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(312,'Single',3,2,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(313,'Single',3,2,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(321,'Single',3,3,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(322,'Single',3,3,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(323,'Single',3,3,0);
Query OK, 1 row affected (0.01 sec)

mysql> INSERT INTO Room VALUES(401,'Single',4,1,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(402,'Single',4,1,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(403,'Single',4,1,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(411,'Single',4,2,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(412,'Single',4,2,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(413,'Single',4,2,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(421,'Single',4,3,1);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(422,'Single',4,3,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Room VALUES(423,'Single',4,3,0);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO On_Call VALUES(101,1,1,'2008-11-04 11:00','2008-11-04 19:00');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO On_Call VALUES(101,1,2,'2008-11-04 11:00','2008-11-04 19:00');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO On_Call VALUES(102,1,3,'2008-11-04 11:00','2008-11-04 19:00');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO On_Call VALUES(103,1,1,'2008-11-04 19:00','2008-11-05 03:00');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO On_Call VALUES(103,1,2,'2008-11-04 19:00','2008-11-05 03:00');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO On_Call VALUES(103,1,3,'2008-11-04 19:00','2008-11-05 03:00');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Stay VALUES(3215,100000001,111,'2008-05-01','2008-05-04');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Stay VALUES(3216,100000003,123,'2008-05-03','2008-05-14');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Stay VALUES(3217,100000004,112,'2008-05-02','2008-05-03');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Undergoes VALUES(100000001,6,3215,'2008-05-02',3,101);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Undergoes VALUES(100000001,2,3215,'2008-05-03',7,101);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Undergoes VALUES(100000004,1,3217,'2008-05-07',3,102);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Undergoes VALUES(100000004,5,3217,'2008-05-09',6,NULL);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Undergoes VALUES(100000001,7,3217,'2008-05-10',7,101);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Undergoes VALUES(100000004,4,3217,'2008-05-13',3,103);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Trained_In VALUES(3,1,'2008-01-01','2008-12-31');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Trained_In VALUES(3,2,'2008-01-01','2008-12-31');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Trained_In VALUES(3,5,'2008-01-01','2008-12-31');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Trained_In VALUES(3,6,'2008-01-01','2008-12-31');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Trained_In VALUES(3,7,'2008-01-01','2008-12-31');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Trained_In VALUES(6,2,'2008-01-01','2008-12-31');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Trained_In VALUES(6,5,'2007-01-01','2007-12-31');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Trained_In VALUES(6,6,'2008-01-01','2008-12-31');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Trained_In VALUES(7,1,'2008-01-01','2008-12-31');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Trained_In VALUES(7,2,'2008-01-01','2008-12-31');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Trained_In VALUES(7,3,'2008-01-01','2008-12-31');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Trained_In VALUES(7,4,'2008-01-01','2008-12-31');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Trained_In VALUES(7,5,'2008-01-01','2008-12-31');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Trained_In VALUES(7,6,'2008-01-01','2008-12-31');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Trained_In VALUES(7,7,'2008-01-01','2008-12-31');
Query OK, 1 row affected (0.00 sec)

mysql> SELECT *FROM DEPARTMENT; SELECT *FROM AFFILIATED_WITH; SELECT *FROM TRAINED_IN; SELECT *FROM PHYSICIAN; SELECT *FROM APPOINTMENT; SELECT *FROM PRESCRIBES;
+--------------+------------------+------+
| DEPARTMENTID | NAME             | HEAD |
+--------------+------------------+------+
|            1 | General Medicine |    4 |
|            2 | Surgery          |    7 |
|            3 | Psychiatry       |    9 |
+--------------+------------------+------+
3 rows in set (0.00 sec)

+-----------+------------+--------------------+
| PHYSICIAN | DEPARTMENT | PRIMARYAFFILIATION |
+-----------+------------+--------------------+
|         1 |          1 |                  1 |
|         2 |          1 |                  1 |
|         3 |          1 |                  0 |
|         3 |          2 |                  1 |
|         4 |          1 |                  1 |
|         5 |          1 |                  1 |
|         6 |          2 |                  1 |
|         7 |          1 |                  0 |
|         7 |          2 |                  1 |
|         8 |          1 |                  1 |
|         9 |          3 |                  1 |
+-----------+------------+--------------------+
11 rows in set (0.00 sec)

+-----------+-----------+---------------------+----------------------+
| PHYSICIAN | TREATMENT | CERTIFICATIONDATE   | CERTIFICATIONEXPIRES |
+-----------+-----------+---------------------+----------------------+
|         3 |         1 | 2008-01-01 00:00:00 | 2008-12-31 00:00:00  |
|         3 |         2 | 2008-01-01 00:00:00 | 2008-12-31 00:00:00  |
|         3 |         5 | 2008-01-01 00:00:00 | 2008-12-31 00:00:00  |
|         3 |         6 | 2008-01-01 00:00:00 | 2008-12-31 00:00:00  |
|         3 |         7 | 2008-01-01 00:00:00 | 2008-12-31 00:00:00  |
|         6 |         2 | 2008-01-01 00:00:00 | 2008-12-31 00:00:00  |
|         6 |         5 | 2007-01-01 00:00:00 | 2007-12-31 00:00:00  |
|         6 |         6 | 2008-01-01 00:00:00 | 2008-12-31 00:00:00  |
|         7 |         1 | 2008-01-01 00:00:00 | 2008-12-31 00:00:00  |
|         7 |         2 | 2008-01-01 00:00:00 | 2008-12-31 00:00:00  |
|         7 |         3 | 2008-01-01 00:00:00 | 2008-12-31 00:00:00  |
|         7 |         4 | 2008-01-01 00:00:00 | 2008-12-31 00:00:00  |
|         7 |         5 | 2008-01-01 00:00:00 | 2008-12-31 00:00:00  |
|         7 |         6 | 2008-01-01 00:00:00 | 2008-12-31 00:00:00  |
|         7 |         7 | 2008-01-01 00:00:00 | 2008-12-31 00:00:00  |
+-----------+-----------+---------------------+----------------------+
15 rows in set (0.01 sec)

+------------+-------------------+------------------------------+-----------+
| EMPLOYEEID | NAME              | POSITION                     | SSN       |
+------------+-------------------+------------------------------+-----------+
|          1 | John Dorian       | Staff Internist              | 111111111 |
|          2 | Elliot Reid       | Attending Physician          | 222222222 |
|          3 | Christopher Turk  | Surgical Attending Physician | 333333333 |
|          4 | Percival Cox      | Senior Attending Physician   | 444444444 |
|          5 | Bob Kelso         | Head Chief of Medicine       | 555555555 |
|          6 | Todd Quinlan      | Surgical Attending Physician | 666666666 |
|          7 | John Wen          | Surgical Attending Physician | 777777777 |
|          8 | Keith Dudemeister | MD Resident                  | 888888888 |
|          9 | Molly Clock       | Attending Psychiatrist       | 999999999 |
+------------+-------------------+------------------------------+-----------+
9 rows in set (0.00 sec)

+---------------+-----------+-----------+-----------+---------------------+---------------------+-----------------+
| APPOINTMENTID | PATIENT   | PREPNURSE | PHYSICIAN | START               | END                 | EXAMINATIONROOM |
+---------------+-----------+-----------+-----------+---------------------+---------------------+-----------------+
|      13216584 | 100000001 |       101 |         1 | 2008-04-24 10:00:00 | 2008-04-24 11:00:00 | A               |
|      26548913 | 100000002 |       101 |         2 | 2008-04-24 10:00:00 | 2008-04-24 11:00:00 | B               |
|      36549879 | 100000001 |       102 |         1 | 2008-04-25 10:00:00 | 2008-04-25 11:00:00 | A               |
|      46846589 | 100000004 |       103 |         4 | 2008-04-25 10:00:00 | 2008-04-25 11:00:00 | B               |
|      59871321 | 100000004 |      NULL |         4 | 2008-04-26 10:00:00 | 2008-04-26 11:00:00 | C               |
|      69879231 | 100000003 |       103 |         2 | 2008-04-26 11:00:00 | 2008-04-26 12:00:00 | C               |
|      76983231 | 100000001 |      NULL |         3 | 2008-04-26 12:00:00 | 2008-04-26 13:00:00 | C               |
|      86213939 | 100000004 |       102 |         9 | 2008-04-27 10:00:00 | 2008-04-21 11:00:00 | A               |
|      93216548 | 100000002 |       101 |         2 | 2008-04-27 10:00:00 | 2008-04-27 11:00:00 | B               |
+---------------+-----------+-----------+-----------+---------------------+---------------------+-----------------+
9 rows in set (0.00 sec)

+-----------+-----------+------------+---------------------+-------------+------+
| PHYSICIAN | PATIENT   | MEDICATION | DATE                | APPOINTMENT | DOSE |
+-----------+-----------+------------+---------------------+-------------+------+
|         1 | 100000001 |          1 | 2008-04-24 10:47:00 |    13216584 | 5    |
|         9 | 100000004 |          2 | 2008-04-27 10:53:00 |    86213939 | 10   |
|         9 | 100000004 |          2 | 2008-04-30 16:53:00 |        NULL | 5    |
+-----------+-----------+------------+---------------------+-------------+------+
3 rows in set (0.00 sec)

mysql> SELECT *FROM MEDICATION; SELECT *FROM PROCEDURES; SELECT *FROM PATIENT; SELECT *FROM ROOM; SELECT *FROM BLOCK; SELECT *FROM UNDERGOES; SELECT *FROM STAY; SELECT *FROM ON_CALL;
+------+--------------+-----------------------+-------------+
| CODE | NAME         | BRAND                 | DESCRIPTION |
+------+--------------+-----------------------+-------------+
|    1 | Procrastin-X | X                     | N/A         |
|    2 | Thesisin     | Foo Labs              | N/A         |
|    3 | Awakin       | Bar Laboratories      | N/A         |
|    4 | Crescavitin  | Baz Industries        | N/A         |
|    5 | Melioraurin  | Snafu Pharmaceuticals | N/A         |
+------+--------------+-----------------------+-------------+
5 rows in set (0.00 sec)

+------+--------------------------------+-------+
| CODE | NAME                           | COST  |
+------+--------------------------------+-------+
|    1 | Reverse Rhinopodoplasty        |  1500 |
|    2 | Obtuse Pyloric Recombobulation |  3750 |
|    3 | Folded Demiophtalmectomy       |  4500 |
|    4 | Complete Walletectomy          | 10000 |
|    5 | Obfuscated Dermogastrotomy     |  4899 |
|    6 | Reversible Pancreomyoplasty    |  5600 |
|    7 | Follicular Demiectomy          |    25 |
+------+--------------------------------+-------+
7 rows in set (0.00 sec)

+-----------+-------------------+--------------------+----------+-------------+------+
| SSN       | NAME              | ADDRESS            | PHONE    | INSURANCEID | PCP  |
+-----------+-------------------+--------------------+----------+-------------+------+
| 100000001 | John Smith        | 42 Foobar Lane     | 555-0256 |    68476213 |    1 |
| 100000002 | Grace Ritchie     | 37 Snafu Drive     | 555-0512 |    36546321 |    2 |
| 100000003 | Random J. Patient | 101 Omgbbq Street  | 555-1204 |    65465421 |    2 |
| 100000004 | Dennis Doe        | 1100 Foobaz Avenue | 555-2048 |    68421879 |    3 |
+-----------+-------------------+--------------------+----------+-------------+------+
4 rows in set (0.00 sec)

+--------+--------+------------+-----------+-------------+
| NUMBER | TYPE   | BLOCKFLOOR | BLOCKCODE | UNAVAILABLE |
+--------+--------+------------+-----------+-------------+
|    101 | Single |          1 |         1 |           0 |
|    102 | Single |          1 |         1 |           0 |
|    103 | Single |          1 |         1 |           0 |
|    111 | Single |          1 |         2 |           0 |
|    112 | Single |          1 |         2 |           1 |
|    113 | Single |          1 |         2 |           0 |
|    121 | Single |          1 |         3 |           0 |
|    122 | Single |          1 |         3 |           0 |
|    123 | Single |          1 |         3 |           0 |
|    201 | Single |          2 |         1 |           1 |
|    202 | Single |          2 |         1 |           0 |
|    203 | Single |          2 |         1 |           0 |
|    211 | Single |          2 |         2 |           0 |
|    212 | Single |          2 |         2 |           0 |
|    213 | Single |          2 |         2 |           1 |
|    221 | Single |          2 |         3 |           0 |
|    222 | Single |          2 |         3 |           0 |
|    223 | Single |          2 |         3 |           0 |
|    301 | Single |          3 |         1 |           0 |
|    302 | Single |          3 |         1 |           1 |
|    303 | Single |          3 |         1 |           0 |
|    311 | Single |          3 |         2 |           0 |
|    312 | Single |          3 |         2 |           0 |
|    313 | Single |          3 |         2 |           0 |
|    321 | Single |          3 |         3 |           1 |
|    322 | Single |          3 |         3 |           0 |
|    323 | Single |          3 |         3 |           0 |
|    401 | Single |          4 |         1 |           0 |
|    402 | Single |          4 |         1 |           1 |
|    403 | Single |          4 |         1 |           0 |
|    411 | Single |          4 |         2 |           0 |
|    412 | Single |          4 |         2 |           0 |
|    413 | Single |          4 |         2 |           0 |
|    421 | Single |          4 |         3 |           1 |
|    422 | Single |          4 |         3 |           0 |
|    423 | Single |          4 |         3 |           0 |
+--------+--------+------------+-----------+-------------+
36 rows in set (0.00 sec)

+-------+------+
| FLOOR | CODE |
+-------+------+
|     1 |    1 |
|     1 |    2 |
|     1 |    3 |
|     2 |    1 |
|     2 |    2 |
|     2 |    3 |
|     3 |    1 |
|     3 |    2 |
|     3 |    3 |
|     4 |    1 |
|     4 |    2 |
|     4 |    3 |
+-------+------+
12 rows in set (0.01 sec)

+-----------+------------+------+---------------------+-----------+----------------+
| PATIENT   | PROCEDURES | STAY | DATE                | PHYSICIAN | ASSISTINGNURSE |
+-----------+------------+------+---------------------+-----------+----------------+
| 100000001 |          6 | 3215 | 2008-05-02 00:00:00 |         3 |            101 |
| 100000001 |          2 | 3215 | 2008-05-03 00:00:00 |         7 |            101 |
| 100000004 |          1 | 3217 | 2008-05-07 00:00:00 |         3 |            102 |
| 100000004 |          5 | 3217 | 2008-05-09 00:00:00 |         6 |           NULL |
| 100000001 |          7 | 3217 | 2008-05-10 00:00:00 |         7 |            101 |
| 100000004 |          4 | 3217 | 2008-05-13 00:00:00 |         3 |            103 |
+-----------+------------+------+---------------------+-----------+----------------+
6 rows in set (0.00 sec)

+--------+-----------+------+---------------------+---------------------+
| STAYID | PATIENT   | ROOM | START               | END                 |
+--------+-----------+------+---------------------+---------------------+
|   3215 | 100000001 |  111 | 2008-05-01 00:00:00 | 2008-05-04 00:00:00 |
|   3216 | 100000003 |  123 | 2008-05-03 00:00:00 | 2008-05-14 00:00:00 |
|   3217 | 100000004 |  112 | 2008-05-02 00:00:00 | 2008-05-03 00:00:00 |
+--------+-----------+------+---------------------+---------------------+
3 rows in set (0.00 sec)

+-------+------------+-----------+---------------------+---------------------+
| NURSE | BLOCKFLOOR | BLOCKCODE | START               | END                 |
+-------+------------+-----------+---------------------+---------------------+
|   101 |          1 |         1 | 2008-11-04 11:00:00 | 2008-11-04 19:00:00 |
|   101 |          1 |         2 | 2008-11-04 11:00:00 | 2008-11-04 19:00:00 |
|   102 |          1 |         3 | 2008-11-04 11:00:00 | 2008-11-04 19:00:00 |
|   103 |          1 |         1 | 2008-11-04 19:00:00 | 2008-11-05 03:00:00 |
|   103 |          1 |         2 | 2008-11-04 19:00:00 | 2008-11-05 03:00:00 |
|   103 |          1 |         3 | 2008-11-04 19:00:00 | 2008-11-05 03:00:00 |
+-------+------------+-----------+---------------------+---------------------+
6 rows in set (0.00 sec)

mysql> SELECT *FROM NURSE;
+------------+-----------------+------------+------------+-----------+
| EMPLOYEEID | NAME            | POSITION   | REGISTERED | SSN       |
+------------+-----------------+------------+------------+-----------+
|        101 | Carla Espinosa  | Head Nurse |          1 | 111111110 |
|        102 | Laverne Roberts | Nurse      |          1 | 222222220 |
|        103 | Paul Flowers    | Nurse      |          0 | 333333330 |
+------------+-----------------+------------+------------+-----------+
3 rows in set (0.00 sec)

mysql> DROP TABLE IF EXISTS Physician;
Query OK, 0 rows affected (0.03 sec)

mysql> CREATE TABLE Physician (
    ->   EmployeeID INTEGER NOT NULL,
    ->   Name VARCHAR(30) NOT NULL,
    ->   Position VARCHAR(30) NOT NULL,
    ->   SSN INTEGER NOT NULL,
    ->   CONSTRAINT pk_physician PRIMARY KEY(EmployeeID)
    -> );
Query OK, 0 rows affected (0.02 sec)

mysql> select * from physician;
Empty set (0.01 sec)

mysql> INSERT INTO Physician VALUES(1,'John Dorian','Staff Internist',111111111);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Physician VALUES(2,'Elliot Reid','Attending Physician',222222222);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Physician VALUES(3,'Christopher Turk','Surgical Attending Physician',333333333);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Physician VALUES(4,'Percival Cox','Senior Attending Physician',444444444);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Physician VALUES(5,'Bob Kelso','Head Chief of Medicine',555555555);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Physician VALUES(6,'Todd Quinlan','Surgical Attending Physician',666666666);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Physician VALUES(7,'John Wen','Surgical Attending Physician',777777777);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Physician VALUES(8,'Keith Dudemeister','MD Resident',888888888);
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO Physician VALUES(9,'Molly Clock','Attending Psychiatrist',999999999);
Query OK, 1 row affected (0.00 sec)

mysql> select * from physician;
+------------+-------------------+------------------------------+-----------+
| EmployeeID | Name              | Position                     | SSN       |
+------------+-------------------+------------------------------+-----------+
|          1 | John Dorian       | Staff Internist              | 111111111 |
|          2 | Elliot Reid       | Attending Physician          | 222222222 |
|          3 | Christopher Turk  | Surgical Attending Physician | 333333333 |
|          4 | Percival Cox      | Senior Attending Physician   | 444444444 |
|          5 | Bob Kelso         | Head Chief of Medicine       | 555555555 |
|          6 | Todd Quinlan      | Surgical Attending Physician | 666666666 |
|          7 | John Wen          | Surgical Attending Physician | 777777777 |
|          8 | Keith Dudemeister | MD Resident                  | 888888888 |
|          9 | Molly Clock       | Attending Psychiatrist       | 999999999 |
+------------+-------------------+------------------------------+-----------+
9 rows in set (0.00 sec)

mysql> SELECT Name FROM Physician WHERE EmployeeID IN ( SELECT Physician FROM Undergoes U WHERE NOT EXISTS ( SELECT * FROM Trained_In WHERE Treatment = Procedures AND Physician = U.Physician));
+------------------+
| Name             |
+------------------+
| Christopher Turk |
+------------------+
1 row in set (0.03 sec)

mysql> SELECT P.Name AS Physician, Pr.Name AS Procedures, U.Date, Pt.Name AS Patient FROM Physician P, Undergoes U, Patient Pt, Procedures Pr WHERE U.Patient = Pt.SSN AND
    -> U.Procedures = Pr.Code AND U.Physician = P.EmployeeID AND NOT EXISTS(SELECT * FROM Trained_In T WHERE T.Treatment = U.Procedures AND T.Physician = U.Physician);
+------------------+-----------------------+---------------------+------------+
| Physician        | Procedures            | Date                | Patient    |
+------------------+-----------------------+---------------------+------------+
| Christopher Turk | Complete Walletectomy | 2008-05-13 00:00:00 | Dennis Doe |
+------------------+-----------------------+---------------------+------------+
1 row in set (0.01 sec)

mysql> SELECT Name FROM Physician WHERE EmployeeID IN(SELECT Physician FROM Undergoes U WHERE Date >(SELECT CertificationExpires FROM Trained_In T WHERE T.Physician = U.Physician AND T.Treatment = U.Procedures));
+--------------+
| Name         |
+--------------+
| Todd Quinlan |
+--------------+
1 row in set (0.01 sec)

mysql> SELECT P.Name AS Physician, Pr.Name AS Procedures, U.Date, Pt.Name AS Patient, T.CertificationExpires FROM Physician P, Undergoes U, Patient Pt, Procedures Pr, Trained_In T
    -> WHERE U.Patient = Pt.SSN AND U.Procedures = Pr.Code AND U.Physician = P.EmployeeID AND Pr.Code = T.Treatment AND P.EmployeeID = T.Physician AND U.Date > T.CertificationExpires;
+--------------+----------------------------+---------------------+------------+----------------------+
| Physician    | Procedures                 | Date                | Patient    | CertificationExpires |
+--------------+----------------------------+---------------------+------------+----------------------+
| Todd Quinlan | Obfuscated Dermogastrotomy | 2008-05-09 00:00:00 | Dennis Doe | 2007-12-31 00:00:00  |
+--------------+----------------------------+---------------------+------------+----------------------+
1 row in set (0.00 sec)

mysql> SELECT Pt.Name AS Patient, Ph.Name AS Physician, N.Name AS Nurse, A.Start, A.End, A.ExaminationRoom, PhPCP.Name AS PCP FROM Patient Pt, Physician Ph, Physician PhPCP, Appointment
    -> A LEFT JOIN Nurse N ON A.PrepNurse = N.EmployeeID WHERE A.Patient = Pt.SSN AND A.Physician = Ph.EmployeeID AND Pt.PCP = PhPCP.EmployeeID AND A.Physician <> Pt.PCP;
+------------+------------------+-----------------+---------------------+---------------------+-----------------+------------------+
| Patient    | Physician        | Nurse           | Start               | End                 | ExaminationRoom | PCP              |
+------------+------------------+-----------------+---------------------+---------------------+-----------------+------------------+
| John Smith | Christopher Turk | NULL            | 2008-04-26 12:00:00 | 2008-04-26 13:00:00 | C               | John Dorian      |
| Dennis Doe | Percival Cox     | Paul Flowers    | 2008-04-25 10:00:00 | 2008-04-25 11:00:00 | B               | Christopher Turk |
| Dennis Doe | Percival Cox     | NULL            | 2008-04-26 10:00:00 | 2008-04-26 11:00:00 | C               | Christopher Turk |
| Dennis Doe | Molly Clock      | Laverne Roberts | 2008-04-27 10:00:00 | 2008-04-21 11:00:00 | A               | Christopher Turk |
+------------+------------------+-----------------+---------------------+---------------------+-----------------+------------------+
4 rows in set (0.01 sec)

mysql>  SELECT * FROM Undergoes U WHERE Patient <>(SELECT Patient FROM Stay S WHERE U.Stay = S.StayID);
+-----------+------------+------+---------------------+-----------+----------------+
| PATIENT   | PROCEDURES | STAY | DATE                | PHYSICIAN | ASSISTINGNURSE |
+-----------+------------+------+---------------------+-----------+----------------+
| 100000001 |          7 | 3217 | 2008-05-10 00:00:00 |         7 |            101 |
+-----------+------------+------+---------------------+-----------+----------------+
1 row in set (0.00 sec)

mysql>  SELECT N.Name FROM Nurse N WHERE EmployeeID IN(SELECT OC.Nurse FROM On_Call OC, Room R WHERE OC.BlockFloor = R.BlockFloor AND OC.BlockCode = R.BlockCode AND R.Number = 123);
+-----------------+
| Name            |
+-----------------+
| Laverne Roberts |
| Paul Flowers    |
+-----------------+
2 rows in set (0.00 sec)

mysql> SELECT ExaminationRoom, COUNT(AppointmentID) AS Number FROM Appointment GROUP BY ExaminationRoom;
+-----------------+--------+
| ExaminationRoom | Number |
+-----------------+--------+
| A               |      3 |
| B               |      3 |
| C               |      3 |
+-----------------+--------+
3 rows in set (0.01 sec)

mysql> SELECT Pt.Name "PATIENT", PhPCP.Name "PHYSICIAN" FROM Patient Pt, Physician PhPCP WHERE Pt.PCP = PhPCP.EmployeeID AND EXISTS
    -> ( SELECT * FROM Prescribes Pr WHERE Pr.Patient = Pt.SSN AND Pr.Physician = Pt.PCP ) AND EXISTS
    -> ( SELECT * FROM Undergoes U, Procedures Pr WHERE U.Procedures = Pr.Code AND U.Patient = Pt.SSN AND Pr.Cost > 5000) AND 2 <=
    -> ( SELECT COUNT(A.AppointmentID) FROM Appointment A, Nurse N WHERE A.PrepNurse = N.EmployeeID AND N.Registered = 1 ) AND NOT Pt.PCP IN
    -> ( SELECT Head FROM Department );
+------------+-------------+
| PATIENT    | PHYSICIAN   |
+------------+-------------+
| John Smith | John Dorian |
+------------+-------------+
1 row in set (0.01 sec)

mysql>